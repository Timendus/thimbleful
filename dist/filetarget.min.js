!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";r.r(t);class n{constructor(){this._handlers={},document.addEventListener("click",e=>this._callHandler("click",e)),document.addEventListener("mousedown",e=>this._callHandler("mousedown",e)),document.addEventListener("mouseup",e=>this._callHandler("mouseup",e))}register(e,t={click:null,mousedown:null,mouseup:null}){"function"==typeof t&&(t={click:t}),this._handlers[e]=this._handlers[e]||[],this._handlers[e].push(t)}_callHandler(e,t){Object.keys(this._handlers).forEach(r=>{if(null!==t.target.closest(r)){this._handlers[r].map(t=>t[e]).forEach(e=>{"function"!=typeof e||t.defaultPrevented||e(t,r)})}})}}n.instance=function(){return n._instance?n._instance:n._instance=new n},t.default=n},function(e,t,r){"use strict";r.r(t);var n=r(0);class a{constructor(e="dragging"){this._dragClass=e,this._handlers={},document.addEventListener("dragover",e=>this._dragOver(e)),document.addEventListener("dragleave",e=>this._dragLeave(e)),document.addEventListener("drop",e=>this._drop(e))}register(e,t){this._handlers[e]=t,n.default.instance().register(e,(e,t)=>this._openFileDialog(e,t))}_dragOver(e){this._isDropTarget(e.target)&&(e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy",e.target.classList.add(this._dragClass))}_dragLeave(e){this._isDropTarget(e.target)&&(e.stopPropagation(),e.preventDefault(),e.target.classList.remove(this._dragClass))}_drop(e){let t=this._isDropTarget(e.target);t&&(e.stopPropagation(),e.preventDefault(),e.target.classList.remove(this._dragClass),this._handleFile(t,e,e.dataTransfer.files[0]))}_isDropTarget(e){return Object.keys(this._handlers).find(t=>{if(e.closest(t))return t})||!1}_openFileDialog(e,t){const r=document.createElement("input");r.type="file",r.addEventListener("change",r=>this._handleFile(t,e,r.target.files[0])),r.click()}_handleFile(e,t,r){this._readFile(r).then(n=>this._handlers[e](r,n,t))}_readFile(e){return new Promise((t,r)=>{var n=new FileReader;n.addEventListener("load",e=>t(e.target.result)),n.readAsDataURL(e)})}}a.instance=function(){return a._instance?a._instance:a._instance=new a},t.default=a}]);