!function(t){var e={};function s(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=4)}([function(t,e,s){"use strict";s.r(e);class n{constructor(){this._handlers={},document.addEventListener("click",t=>this._callHandler("click",t)),document.addEventListener("mousedown",t=>this._callHandler("mousedown",t)),document.addEventListener("mouseup",t=>this._callHandler("mouseup",t))}register(t,e={click:null,mousedown:null,mouseup:null}){"function"==typeof e&&(e={click:e}),this._handlers[t]=this._handlers[t]||[],this._handlers[t].push(e)}_callHandler(t,e){Object.keys(this._handlers).forEach(s=>{if(null!==e.target.closest(s)){this._handlers[s].map(e=>e[t]).forEach(t=>{"function"!=typeof t||e.defaultPrevented||t(e,s)})}})}}n.instance=function(){return n._instance?n._instance:n._instance=new n},e.default=n},function(t,e,s){"use strict";s.r(e);var n=s(0);class r{constructor(t="dragging"){this._dragClass=t,this._handlers={},document.addEventListener("dragover",t=>this._dragOver(t)),document.addEventListener("dragleave",t=>this._dragLeave(t)),document.addEventListener("drop",t=>this._drop(t))}register(t,e){this._handlers[t]=e,n.default.instance().register(t,(t,e)=>this._openFileDialog(t,e))}_dragOver(t){this._isDropTarget(t.target)&&(t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy",t.target.classList.add(this._dragClass))}_dragLeave(t){this._isDropTarget(t.target)&&(t.stopPropagation(),t.preventDefault(),t.target.classList.remove(this._dragClass))}_drop(t){let e=this._isDropTarget(t.target);e&&(t.stopPropagation(),t.preventDefault(),t.target.classList.remove(this._dragClass),this._handleFile(e,t,t.dataTransfer.files[0]))}_isDropTarget(t){return Object.keys(this._handlers).find(e=>{if(t.closest(e))return e})||!1}_openFileDialog(t,e){const s=document.createElement("input");s.type="file",s.addEventListener("change",s=>this._handleFile(e,t,s.target.files[0])),s.click()}_handleFile(t,e,s){this._readFile(s).then(n=>this._handlers[t](s,n,e))}_readFile(t){return new Promise((e,s)=>{var n=new FileReader;n.addEventListener("load",t=>e(t.target.result)),n.readAsDataURL(t)})}}r.instance=function(){return r._instance?r._instance:r._instance=new r},e.default=r},function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return r}));var n=s(0);class r{constructor(){this._routes=[],n.default.instance().register("a[href]",t=>this._handleClick(t)),window.addEventListener("hashchange",t=>this._handleNavigationEvent(t)),window.addEventListener("load",t=>this._handleNavigationEvent(t))}addRoute(t,e){this._routes.push([t,e])}addRoutes(t,e=null){Array.isArray(t)?t.forEach(t=>this.addRoute(t,e)):Object.keys(t).forEach(e=>this.addRoute(e,t[e]))}_handleClick(t){let e=t.target.getAttribute("href");this._matchingLink(e)&&(window.location.hash=e,t.preventDefault())}_handleNavigationEvent(t){let e=window.location.hash;if(!(e=this._matchingLink(e)))return;let s=e.route[1];s&&s(e.route[0],e.matches,t)}_matchingLink(t){if(!t)return!1;if("#"==!t.substr(0,1))return!1;for(const e of this._routes)if(e[0]instanceof RegExp){const s=t.substr(1).match(e[0]);if(s)return{route:e,matches:s}}else if(e[0]==t.substr(1))return{route:e,matches:null};return!1}}},function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return r}));var n=s(0);class r{constructor(t,e={}){this._scope=t,this._options=this._normalizeOptions(e),n.default.instance().register(`${t} [${this._options.open}], ${t} [${this._options.close}], ${t} [${this._options.toggle}]`,t=>this._handleClick(t))}_normalizeOptions(t){return Object.assign({class:"active",open:"data-open",close:"data-close",toggle:"data-toggle",group:"data-group",timer:"data-timer",follower:"data-follower"},t)}_handleClick(t){const e=t.target.closest(`[${this._options.open}], [${this._options.close}], [${this._options.toggle}]`),s=e.getAttribute(this._options.close),n=e.getAttribute(this._options.open),r=e.getAttribute(this._options.toggle);let o=s?document.querySelectorAll(`${this._scope} ${s}`):[],i=n?document.querySelectorAll(`${this._scope} ${n}`):[];o=[...o,...r?document.querySelectorAll(`${this._scope} ${r}.${this._options.class}`):[]],i=[...i,...r?document.querySelectorAll(`${this._scope} ${r}:not(.${this._options.class})`):[]],this._close(o),this._open(i),t.preventDefault(),t.stopPropagation()}_close(t){t.forEach(t=>{t.classList.remove(this._options.class),this._close(this._followers(t))})}_open(t){t.forEach(t=>{this._close(this._group(t)),t.classList.add(this._options.class),this._open(this._followers(t));const e=t.getAttribute(this._options.timer);e&&window.setTimeout(()=>this._close([t]),e)})}_group(t){const e=t.getAttribute(this._options.group);return e?[...document.querySelectorAll(`${this._scope} [${this._options.group}=${e}]`)]:[]}_followers(t){const e=t.getAttribute(this._options.follower);return e?[...document.querySelectorAll(`${this._scope} ${e}`)]:[]}}},function(t,e,s){"use strict";s.r(e);var n=s(0),r=s(1),o=s(2),i=s(3);const a={Click:n.default,FileTarget:r.default,Router:o.default,Energize:i.default};e.default=a,window.Thimbleful=a}]);